<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Annullamento dei file</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section that covers Source Control reverting files" />
  <meta name="rh-index-keywords" content="Source Control - Reverting Files" />
  <meta name="search-keywords" content="revert files" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Annullamento dei file</h1>
  <p>Nelle sezioni precedenti hai visto come <a href="Repository_Options.htm">creare un repository</a> e <a href="Standard_Workflow.htm">fare commit su di esso</a>, ma cosa succede se fai un errore e vuoi &quot;tornare indietro&quot; ad un commit precedente? Facciamo un errore intenzionale e vediamo come gestirlo allora...</p>
  <p>Prima di tutto create una nuova risorsa - in questo esempio faremo una risorsa <span class="notranslate">Script</span> - e inizialmente non vedrete alcuna icona di stato poiché per quanto riguarda <span class="notranslate">source control</span> non esiste ancora. Nella risorsa <span class="notranslate">script</span> aggiungete una semplice linea di codice, come:</p>
  <p class="code">show_debug_message(&quot;Hello World&quot;);</p>
  <p>Se ora si chiude l'editor di codice, <span class="notranslate">script</span> verrà salvato e l'icona del file modificato <img> apparirà accanto ad esso nel <a href="../../Introduction/The_Asset_Browser.htm">Browser delle risorse</a>. Ora, aprite la finestra <strong>Commit </strong>e vedrete che ci sono quattro modifiche a tappe, poiché le nuove risorse vengono aggiunte automaticamente:</p>
  <p><img>I cambiamenti messi in scena saranno:</p>
  <ul class="colour">
    <li>il file di progetto <span class="inline">.yyp</span> </li>
    <li>un file di visualizzazione</li>
    <li>lo stesso <span class="notranslate">GML</span> <span class="notranslate">script</span> </li>
    <li>il file <span class="inline">.yy</span> che fa riferimento ad esso</li>
  </ul>
  <p>Dovreste digitare un messaggio di commit e poi cliccare sul pulsante <strong>Commit </strong>, proprio come abbiamo spiegato in precedenza. Ora, torniamo al nostro <span class="notranslate">script</span> e cambiamo la linea di codice in (per esempio):</p>
  <p class="code">show_debug_message(&quot;Hello World, how are you?&quot;);</p>
  <p>Quando chiudiamo l'editor di codice, di nuovo un'icona rossa <img> sarà mostrata accanto a <span class="notranslate">script</span>, ma ci siamo resi conto che abbiamo fatto un errore con il nostro codice e vogliamo tornare ad una versione precedente per correggerlo (ovviamente, si potrebbe semplicemente aprire <span class="notranslate">script</span> e correggerlo facilmente, dato che l'esempio è così semplice, ma in grandi progetti questo non è normalmente un approccio fattibile). Quello che dobbiamo fare è <strong>ripristinare </strong>le nostre modifiche.</p>
  <p>Per ripristinare una modifica dobbiamo prima aprire di nuovo la finestra di commit, quindi andiamo su <strong>Source Control</strong> &gt; <strong>Commit Changes</strong> ancora una volta. Il nostro file modificato sarà di nuovo in scena pronto per il commit, ma questo non è quello che vogliamo quindi clicchiamo il pulsante <strong>Unstage All</strong> per toglierlo dall'area di staging.</p>
  <p>Se ora clicchiamo con il tasto destro del mouse <strong><img></strong> sul file che abbiamo cambiato, otterremo un menu contestuale con un'opzione per <strong>ripristinare il percorso</strong>:</p>
  <p><img>Quando selezionate questa opzione, ripristinerete i file allo stato precedente in cui si trovavano.</p>
  <p class="note"><strong>IMPORTANTE!</strong> Quando ripristini otterrai un messaggio che ti chiederà di ricaricare o salvare il progetto corrente a causa del controllo dei file che rileva i cambiamenti sul disco:<br>
    <img>Devi premere Reload e non salvare, poiché il salvataggio salverà ciò che è in memoria piuttosto che ricaricare i file ripristinati.
  </p>
  <p>Tutto ciò è ottimo per quando si modifica qualcosa e si vuole cambiare di nuovo senza aver già eseguito un commit, ma che dire di quando si è impegnato uno o più cambiamenti e si vuole tornare a un commit <em>precedente </em>? Bene, modifichiamo di nuovo il nostro <span class="notranslate">script</span> per dire:</p>
  <p class="code">show_debug_message(&quot;This is a bad idea&quot;);</p>
  <p>Ora facciamo il commit come prima per metterlo sotto <span class="notranslate">source control</span>. Quindi, questa è stata una cattiva idea e vogliamo fare un rollback, il che significa che per iniziare dobbiamo aprire la finestra <strong>Source Control</strong> &gt; <strong>View History</strong>. Qui vedremo una lista di tutti i commit precedenti ora in questa finestra, a partire dal commit iniziale, il commit per il <span class="notranslate">script</span>, e poi il commit per il <span class="notranslate">script</span> che abbiamo modificato come una &quot;cattiva idea&quot;:</p>
  <p><img>Ora abbiamo due scelte. Possiamo ripristinare un'intera revisione - che ripristinerà tutti i file che sono stati cambiati a quelli del commit scelto - o possiamo scegliere di ripristinare un <span class="notranslate">path</span> - che ripristinerà semplicemente un singolo file. Facciamo la prima opzione per iniziare:</p>
  <ul class="colour">
    <li>Cliccate con il tasto destro del mouse <strong><img></strong> il nostro secondo commit nel pannello <strong>Commit History</strong> (il commit &quot;Hello World&quot;).</li>
    <li>Seleziona <strong>Revert To This Revision</strong> e poi scegli <strong>ReLoad</strong> sul messaggio di avviso.</li>
  </ul>
  <p>Dovreste vedere che <span class="notranslate">script</span> ora ha un'icona di stato rossa <img>, e se la apriamo, avremo quanto segue:</p>
  <p><img>Possiamo poi fare un commit sul progetto e saremo di nuovo al punto in cui eravamo. Tuttavia possiamo anche annullare quell'azione per il file e riavere il nostro commit della &quot;cattiva idea&quot; facendo quanto segue:</p>
  <ul class="colour">
    <li>Aprire la finestra <strong>Commit Changes</strong>.</li>
    <li>Smontare il sito <span class="notranslate">script</span> con il codice &quot;Hello World&quot;.</li>
    <li>Cliccate con il tasto destro del mouse <strong><img></strong> e <strong>Revert Path</strong>.</li>
  </ul>
  <p>Ora siamo tornati ad avere il file errato nel progetto di nuovo! Bene, possiamo cogliere questa opportunità per ripristinare solo quel file <span class="notranslate">path</span> invece di ripristinare tutto ad una revisione precedente. Per questo abbiamo bisogno di fare quanto segue:</p>
  <ul class="colour">
    <li>Aprire la finestra <strong>View History</strong>.</li>
    <li>Clicca sul secondo commit (il commit &quot;Hello World&quot;).</li>
    <li>Cliccate con il tasto destro del mouse <strong><img></strong> sul nostro <span class="notranslate">script</span> <span class="notranslate">GML</span> nel pannello Files e selezionare <strong>Revert Path</strong>.</li>
  </ul>
  <p>Dovremmo essere tornati ad avere il nostro codice &quot;Hello World&quot; e possiamo quindi fare un nuovo commit per aggiornare nuovamente il <span class="notranslate">source control</span> con il file corretto.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Indietro: <a href="../Source_Control.htm">Controllo delle fonti</a></div>
        <div style="float:right">Successivo: <a href="Cloning_A_Repository.htm">Clonare un repository</a> </div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tutti i diritti riservati</span></h5>
  </div>
  <!-- KEYWORDS
Source Control Reverting Files
reverting files
-->
  <!-- TAGS
source_control_revert
-->
</body>
</html>