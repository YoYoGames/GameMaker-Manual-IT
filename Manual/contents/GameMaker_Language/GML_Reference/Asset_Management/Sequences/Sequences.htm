<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Sequenze</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page outlining the different functions and variables associated with Sequences" />
  <meta name="rh-index-keywords" content="" />
  <meta name="search-keywords" content="Sequences" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Sequenze</h1>
  <p>Le sequenze sono solitamente create in <span class="notranslate">IDE</span> usando l'<a href="../../../../The_Asset_Editors/Sequences.htm">editor di sequenze</a>, ma possono anche essere create e modificate usando il codice. Tuttavia, prima di guardare le funzioni disponibili, è importante capire il modo in cui <span class="notranslate">sequences</span> è definito in <span class="notranslate">GameMaker</span> e i diversi termini che verranno utilizzati.</p>
  <p>Per cominciare, al livello più alto, hai un <b>elemento di sequenza</b>. Questo è ciò che si mette su un livello in un <span class="notranslate">room</span>, sia attraverso l'editor <span class="notranslate">Room</span> o nel codice usando le <a href="../Rooms/Sequence_Layers/Sequence_Layers.htm">funzioni di livello</a> appropriate. L'elemento di livello non ha proprietà reali a parte un valore ID dell'elemento, ma questo ID è necessario per usare le funzioni di livello sopra menzionate per cambiare la riproduzione di <span class="notranslate">sequence</span> o per accedere ai dati di <span class="notranslate">sequence</span>.</p>
  <p>Poi avete <b>oggetti sequenza</b> e <b>istanze di sequenza</b>, proprio come avete il generale <span class="notranslate">objects</span> e le istanze. Un <i>oggetto</i> <span class="notranslate">sequence</span> è la risorsa base come l'hai creata nel <b>Browser delle risorse</b> o usando la funzione <a href="sequence_create.htm"><span class="inline">sequence_create()</span></a>e l'<i>istanza</i> di <span class="notranslate">sequence</span> è la &quot;copia&quot; di quel <span class="notranslate">sequence</span> <span class="notranslate">object</span> che è stata messa in un <span class="notranslate">room</span> come elemento su un livello. Pensate a <span class="notranslate">sequence</span> <span class="notranslate">objects</span> come a delle cianografie e alle istanze di <span class="notranslate">sequence</span> come alla creazione da quelle cianografie. <span class="notranslate">Sequence</span> <span class="notranslate">objects</span> e le istanze sono <a href="../../../GML_Overview/Structs.htm">strutture</a> e - a differenza del normale <span class="notranslate">objects</span> - un <span class="notranslate">sequence</span> <span class="notranslate">object</span> <span class="notranslate">struct</span> può essere modificato in <span class="notranslate">runtime</span>, che influenzerà tutte le ulteriori istanze di quel <span class="notranslate">sequence</span> quando le create come elementi (e qualsiasi modifica fatta a un <span class="notranslate">sequence</span> <span class="notranslate">object</span> <b>non</b> sarà resettata riavviando il gioco o il <span class="notranslate">room</span> usando le funzioni <span class="inline">room_restart()</span> o <span class="inline">game_restart()</span> ). L'istanza <span class="notranslate">sequence</span> <span class="notranslate">struct</span> contiene alcuni parametri per controllare la riproduzione e le cose (questo è spiegato più in dettaglio in seguito) così come i <b>dati della sequenza</b> <span class="notranslate">struct</span>.</p>
  <p>Infine, come già detto, avete i <b>dati della sequenza</b>, che è un altro <span class="notranslate">struct</span>. Questo <span class="notranslate">struct</span> contiene <i>tutti i</i> dati su <span class="notranslate">sequence</span>. Le tracce che contiene, le proprietà che queste tracce hanno, la velocità di riproduzione e molto altro. I dettagli esatti di questo contenuto <span class="notranslate">structs</span> sono delineati di seguito, ma fondamentalmente consiste nella <b>traccia delle risorse</b> <span class="notranslate">structs</span> e nella <b>traccia dei parametri</b> <span class="notranslate">structs</span> che usano i <b>dati dei keyframe</b> per eseguire effettivamente delle azioni mentre il <span class="notranslate">sequence</span> gioca.</p>
  <p>Gli elementi della sequenza sono trattati con le <a href="../Rooms/Sequence_Layers/Sequence_Layers.htm">funzioni del livello</a> <span class="notranslate">room</span>, ma per <span class="notranslate">sequence</span> <span class="notranslate">objects</span>, istanze e dati abbiamo le seguenti funzioni:</p>
  <p> </p>
  <ul class="colour">
    <li><a href="sequence_exists.htm"><span class="notranslate">sequence_exists</span></a></li>
    <li><a href="sequence_create.htm"><span class="notranslate">sequence_create</span></a></li>
    <li><a href="sequence_destroy.htm"><span class="notranslate">sequence_destroy</span></a></li>
    <li><a href="sequence_get.htm"><span class="notranslate">sequence_get</span></a></li>
    <li><a href="sequence_track_new.htm"><span class="notranslate">sequence_track_new</span></a></li>
    <li><a href="sequence_keyframe_new.htm"><span class="notranslate">sequence_keyframe_new</span></a></li>
    <li><a href="sequence_keyframedata_new.htm"><span class="notranslate">sequence_keyframedata_new</span></a></li>
    <li><a href="sequence_get_objects.htm"><span class="notranslate">sequence_get_objects</span></a></li>
    <li><a href="sequence_instance_override_object.htm"><span class="notranslate">sequence_instance_override_object</span></a></li>
  </ul>
  <p> </p>
  <p>C'è anche una <strong>variabile integrata</strong> associata alle istanze che può essere usata per determinare se l'istanza è stata usata in un <span class="notranslate">sequence</span> o no:</p>
  <p> </p>
  <ul class="colour">
    <li><a href="in_sequence.htm"><span class="notranslate">in_sequence</span></a></li>
  </ul>
  <p class="note"><strong>IMPORTANTE!</strong> Se il tuo <span class="notranslate">sequence</span> ha delle istanze in esso, queste istanze non dovrebbero cambiare le loro variabili <span class="inline"><span style="font-size:14px;">image_xscale</span> / <span class="inline"><span style="font-size:14px;">image_yscale</span> / <span class="inline"><span style="font-size:14px;">image_angle</span> / <span class="inline"><span style="font-size:14px;">x</span> / <span class="inline"><span style="font-size:14px;">y</span> perché saranno sovrascritte quando il <span class="notranslate">sequence</span> aggiorna ogni passo dopo l'inizio della riproduzione.</p>
  <p> </p>
  <p>Prima di usare queste funzioni per creare o modificare <span class="notranslate">sequences</span>, vi raccomandiamo di leggere le descrizioni dettagliate date di seguito per le proprietà di <span class="notranslate">struct</span>. Una panoramica generale su come creare un nuovo <span class="notranslate">sequence</span> sarebbe:</p>
  <ul class="colour">
    <li>Create il nuovo <span class="notranslate">sequence</span> <span class="notranslate">object</span> usando la funzione <span class="inline"><a href="sequence_create.htm">sequence_create()</a></span> e memorizzate l'indice <span class="notranslate">sequence</span> <span class="notranslate">object</span> in una variabile. Questo indice vi dà accesso al <span class="notranslate">sequence</span> <span class="notranslate">object</span> <span class="notranslate">struct</span> .</li>
  </ul>
  <p class="code">myseq = sequence_create();</p>
  <ul class="colour">
    <li>Impostare i valori di livello superiore di <span class="notranslate">sequence</span> <span class="notranslate">object</span> come lunghezza, modalità di riproduzione, velocità di riproduzione, ecc... Per esempio:</li>
  </ul>
  <p class="code">myseq.length = 120;<br />
    myseq.loopmode = seqplay_pingpong</p>
  <ul class="colour">
    <li>Prima di poter aggiungere tracce a <span class="notranslate">sequence</span> <span class="notranslate">object</span>, è necessario crearle, quindi ora si crea un array di tracce di <i>risorse</i> che sono state definite con la funzione <a href="sequence_track_new.htm"><span class="inline">sequence_track_new()</span></a>. Notate che nel codice, non c'è davvero alcuna differenza tra le tracce <span class="notranslate">asset</span> e le tracce dei parametri - sono tutte semplicemente tracce e come si comportano dipenderà dal tipo di traccia che si crea e se sono assegnate come sotto-tracce a una traccia di livello superiore o meno. Così, creereste una traccia per un <span class="notranslate">asset</span>, e poi assegnereste delle sotto-tracce per i diversi parametri ad essa e queste sotto-tracce agirebbero come le tracce dei <i>parametri</i> per il <span class="notranslate">asset</span>. L'esempio qui sotto crea una singola traccia grafica <span class="notranslate">asset</span> che sarà aggiunta al <span class="notranslate">sequence</span> in seguito:</li>
  </ul>
  <p class="code">var mytracks = array_create(1);<br />
    mytracks[0] = sequence_track_new(seqtracktype_graphic);</p>
  <ul class="colour">
    <li>Ogni traccia <span class="notranslate">asset</span> ha bisogno di avere alcuni dati per dire a <span class="notranslate">sequence</span> come apparirà, o la sua posizione, ecc... e questo viene aggiunto sotto forma di <i>fotogrammi chiave</i>. Al livello superiore per una traccia <span class="notranslate">asset</span>, potete impostare <span class="notranslate">keyframes</span> per varie cose (elencate nella sezione sulla traccia <span class="notranslate">Struct</span>, qui sotto), ma notate che siccome questi sono <span class="notranslate">asset</span> traccia <span class="notranslate">keyframes</span>, non saranno interpolati e cambieranno semplicemente il valore a cui si riferiscono quando il dato frame viene raggiunto. Ogni <span class="notranslate">keyframe</span> è un <span class="notranslate">struct</span> che viene aggiunto a un array, e poi questo array viene assegnato alla traccia <span class="notranslate">asset</span>. Per creare il <span class="notranslate">keyframe</span> <span class="notranslate">struct</span> chiameremo la funzione <a href="sequence_keyframe_new.htm"><span class="inline">sequence_keyframe_new()</span></a> e per popolare <span class="notranslate">keyframe</span> con i dati richiesti, useremmo la funzione <a href="sequence_keyframedata_new.htm"><span class="inline">sequence_keyframedata_new()</span></a>:</li>
  </ul>
  <p class="code">// Create a new keyframe struct for a graphics asset track and add it to an array (as you can have multiple keys in a frame)<br />
    var graphickeys = array_create(1);<br />
    graphickeys[0] = sequence_keyframe_new(seqtracktype_graphic);<br />
    // Set the graphics keyframe top level data for the keyframe position and length, etc...<br />
    graphickeys[0].frame = 0;<br />
    graphickeys[0].length = 1;<br />
    graphickeys[0].stretch = true;<br />
    graphickeys[0].disabled = false;<br />
    // Create the channel data that will go into this keyframe (again an array, as each key can have multiple channels of keyframe data)<br />
    var graphickeydata = array_create(1);<br />
    graphickeydata[0] = sequence_keyframedata_new(seqtracktype_graphic);<br />
    graphickeydata[0].spriteIndex = spr_Platform;<br />
    graphickeydata[0].channel = 0;<br />
    // Add the keyframe data channels to the graphics track keyframe<br />
    graphickeys[0].channels = graphickeydata;<br />
    // Add the definied keyframes to the track<br />
    mytracks[0].name = &quot;TestGraphicTrack&quot;;<br />
    mytracks[0].keyframes = graphickeys;</p>
  <ul class="colour">
    <li>Ora abbiamo bisogno di creare una traccia di parametri che assegneremo come sottotraccia alla traccia grafica che abbiamo appena creato. Questo sarà fatto in un modo simile a quello mostrato sopra, solo che ora abbiamo bisogno di dare alla traccia un nome che mostri il suo scopo, in questo caso &quot;posizione&quot; perché useremo questa traccia per spostare la traccia grafica nel corso dei fotogrammi dell'animazione <span class="notranslate">sequence</span>:</li>
  </ul>
  <p class="code">// Create a new parameter track struct for the position of the graphic<br />
    var paramtracks = array_create(1);<br />
    paramtracks[0] = sequence_track_new(seqtracktype_real);<br />
    paramtracks[0].name = &quot;position&quot;;<br />
    paramtracks[0].interpolation = true;<br />
    // Create the keyframe struct to hold the parameter channel data and set the frame position for the keyframe<br />
    var paramkeys = array_create(2);<br />
    paramkeys[0] = sequence_keyframe_new(seqtracktype_real);<br />
    paramkeys[0].frame = 0;<br />
    paramkeys[1] = sequence_keyframe_new(seqtracktype_real);<br />
    paramkeys[1].frame = 120;<br />
    // Create the keyframe data structs<br />
    var paramkeydata1 = array_create(2);<br />
    paramkeydata1[0] = sequence_keyframedata_new(seqtracktype_real);<br />
    paramkeydata1[0].channel = 0; // Channel 0 for a position track is the X position<br />
    paramkeydata1[0].value = 0;<br />
    paramkeydata1[1] = sequence_keyframedata_new(seqtracktype_real);<br />
    paramkeydata1[1].channel = 1; // Channel 1 for a position track is the Y position<br />
    paramkeydata1[1].value = 0;<br />
    var paramkeydata2 = array_create(2);<br />
    paramkeydata2[0] = sequence_keyframedata_new(seqtracktype_real);<br />
    paramkeydata2[0].channel = 0;<br />
    paramkeydata2[0].value = room_width;<br />
    paramkeydata2[1] = sequence_keyframedata_new(seqtracktype_real);<br />
    paramkeydata2[1].channel = 1;<br />
    paramkeydata2[1].value = room_height;<br />
    // Assign the keyframe data structs to the channels for each key<br />
    paramkeys[0].channels = paramkeydata1;<br />
    paramkeys[1].channels = paramkeydata2;<br />
    // Assign the keys to the parameter track<br />
    paramtracks[0].keyframes = paramkeys;</p>
  <ul class="colour">
    <li>Fatto questo, l'ultima cosa da fare è assegnare la traccia dei parametri come sottotraccia alla nostra traccia grafica principale <span class="notranslate">asset</span> che abbiamo creato all'inizio e poi assegnare queste tracce a <span class="notranslate">sequence</span> di cui possiamo creare un'istanza nella stanza:</li>
  </ul>
  <p class="code">mytracks[0].tracks = paramtracks;<br />
    myseq.tracks = mytracks;<br />
    layer_sequence_create(&quot;Assets_1&quot;, 0, 0, myseq);</p>
  <p>Le istruzioni precedenti creano un <span class="notranslate">sequence</span> <span class="notranslate">object</span> molto semplice che disegna un <span class="notranslate">sprite</span> nella posizione (0, 0) <i>della sequenza</i> e poi lo sposta nell'angolo in basso a destra e indietro in un <span class="notranslate">loop</span>. Come detto, ci sono un certo numero di posti dove è necessario accedere a diversi <span class="notranslate">structs</span> per dare o ottenere dati sul <span class="notranslate">sequence</span>, e le sezioni seguenti elencano tutte le diverse proprietà che questi <span class="notranslate">structs</span> contengono:</p>
  <ul class="colour">
    <li><a name="object"></a><a href="Sequence_Structs/The_Sequence_Object_Struct.htm"><label for="1">Il <span class="notranslate">Sequence</span> <span class="notranslate">Object</span> Strutture</label></a></li>
    <li><a name="instance"></a><a href="Sequence_Structs/The_Sequence_Instance_Struct.htm"><label for="2">La struttura dell'istanza <span class="notranslate">Sequence</span> </label></a></li>
    <li><a name="track"></a><a href="Sequence_Structs/The_Track_Struct.htm"><label for="3">La traccia Strutture</label></a></li>
    <li><a name="keyframe"></a><a href="Sequence_Structs/The_Keyframe_Struct.htm"><label for="4">Il <span class="notranslate">Keyframe</span> Strutture</label></a></li>
    <li><a name="keyframe_data"></a><a href="Sequence_Structs/The_Keyframe_Data_Struct.htm"><label for="5">La struttura dei dati <span class="notranslate">Keyframe</span> </label></a></li>
  </ul>
  <p> </p>
  <p>Infine, è possibile aggiungere del codice a <span class="notranslate">sequences</span> che può essere attivato sia come un <strong>evento</strong> al <strong>momento</strong> che come un <strong>messaggio broadcast</strong>. Questo è spiegato completamente nella pagina seguente:</p>
  <ul class="colour">
    <li><a href="Sequence_Events_Moments_Broadcast.htm">Eventi, momenti e messaggi trasmessi</a></li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Indietro: <a href="../Asset_Management.htm">Gestione delle risorse</a></div>
        <div style="float:right">Prossimo: <a href="../Fonts/Fonts.htm">Font</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Tutti i diritti riservati</span></h5>
  </div>
  <!-- KEYWORDS
Sequences
-->
  <!-- TAGS
sequence_functions
-->
</body>
</html>