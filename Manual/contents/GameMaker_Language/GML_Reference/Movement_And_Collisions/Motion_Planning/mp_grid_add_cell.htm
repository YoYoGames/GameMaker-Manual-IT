<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>mp_grid_add_cell</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <script src="../../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="This page outlines the function mp_grid_add_cell" />
  <meta name="rh-index-keywords" content="mp_grid_add_cell" />
  <meta name="search-keywords" content="mp_grid_add_cell" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>mp_grid_add_cell</h1>
  <p>Con questa funzione possiamo contrassegnare singole celle all'interno della griglia MP data come &quot;proibite&quot;, il che significa che le funzioni di ricerca di <span class="notranslate">path</span> non le attraverseranno mai. Ora, normalmente si lavora in coordinate x/y <i>della stanza</i>, e non in coordinate delle <i>celle della</i> griglia MP. Quindi consideriamo la seguente immagine che mostra come le due cose possano essere correlate:</p>
  <p><img>Come potete vedere la mp_grid è numerata come una serie di celle (a partire da 0,0 nell'angolo in alto a sinistra), e quando posizionate questa griglia su <span class="notranslate">room</span> c'è una correlazione diretta tra le coordinate <span class="notranslate">room</span> (che iniziano anch'esse a 0,0 in alto a sinistra) e le celle all'interno della griglia. Nell'immagine puoi vedere che un'istanza alla posizione 260,130 cade sulla cella 8,4 della griglia. Puoi calcolare matematicamente l'esatta cella su cui cade una posizione facilmente dividendo il numero per la risoluzione della griglia e poi arrotondando per difetto <i>o</i>, se stai usando risoluzioni di griglia in potenza di 2 (come 8, 16, 32 ecc...) puoi usare gli <a href="../../../../Additional_Information/Bitwise_Operators.htm">operatori bitwise</a>. Va notato che l'operazione bitwise è più veloce e l'esempio qui sotto mostra entrambi i metodi.</p>
  <p> </p>
  <h4>Sintassi:</h4>
  <p class="code">mp_grid_add_cell(id, h, v);</p>
  <table>
    <tbody>
      <tr>
        <th>Argomento</th>
        <th>Tipo</th>
        <th>Descrizione</th>
      </tr>
      <tr>
        <td><span class="notranslate">id</span></td>
        <td><span data-keyref="Type_ID_MP_Grid">ID griglia MP</span></td>
        <td><span class="notranslate">Index of the mp_grid that is to be used</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">h</span></td>
        <td><span data-keyref="Type_Real">Real</span></td>
        <td><span class="notranslate">Horizontal position of the cell in the grid</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">v</span></td>
        <td><span data-keyref="Type_Real">Real</span></td>
        <td><span class="notranslate">Vertical position of the cell in the grid</span></td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Ritorna:</h4>
  <p class="code"><span data-keyref="Type_Void">N/A</span></p>
  <p> </p>
  <h4>Esempio:</h4>
  <p class="code">with (obj_Wall)<br />
    {<br />
        mp_grid_add_cell(grid, floor(x / 32), floor(y / 32));<br />
    }<br />
    with (obj_Door)<br />
    {<br />
        mp_grid_add_cell(grid, x&gt;&gt;5, y&gt;&gt;5);<br />
    }</p>
  <p>Il codice di cui sopra farà sì che tutti gli &quot;obj_Wall&quot; e tutti gli obj_Door aggiungano le loro posizioni di cella equivalenti nella mp_grid indicizzata nella variabile &quot;grid&quot;. Nella prima parte dell'esempio, questo viene fatto prendendo le coordinate x/y di <span class="notranslate">object</span> e dividendole per la risoluzione della griglia (usando <span class="inline">floor</span> per mantenere i valori come interi), e nella seconda parte (dato che la risoluzione della griglia è una potenza di 2) viene fatto spostando in bit le coordinate x,y 5 posti a destra.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Indietro: <a href="Motion_Planning.htm">Pianificazione del movimento</a></div>
        <div style="float:right">Il prossimo: <a href="mp_grid_add_instances.htm"><span class="notranslate">mp_grid_add_instances</span></a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Tutti i diritti riservati</span></h5>
  </div>
  <!-- KEYWORDS
mp_grid_add_cell
-->
  <!-- TAGS
mp_grid_add_cell
-->
</body>
</html>