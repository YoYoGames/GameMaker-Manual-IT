<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Messaggi di trasmissione</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <script src="../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page detailing the dope sheet" />
  <meta name="rh-index-keywords" content="Sequences - Broadcast Messages" />
  <meta name="search-keywords" content="broadcast,messages,broadcast messages" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Messaggi di trasmissione</h1>
  <p>Sia le <a href="../Sequences.htm">Sequenze</a> che gli <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sprites/Sprites.htm">Sprite</a> possono generare quelli che sono chiamati <strong>messaggi broadcast</strong> in qualsiasi punto della loro lunghezza. Questi messaggi sono semplici <span class="notranslate">strings</span> che sono aggiunti a specifici fotogrammi lungo l'animazione <span class="notranslate">timeline</span>, e quando quel punto in <span class="notranslate">timeline</span> è raggiunto, allora il <span class="notranslate">string</span> sarà trasmesso a tutte le istanze che lo ascoltano. Ogni istanza che ha un <a href="../Object_Properties/Other_Events.htm">evento Broadcast Message</a> (trovato nella categoria di eventi<strong>&quot;Other</strong>&quot;) riceverà il messaggio <span class="notranslate">string</span> quando viene raggiunto in <span class="notranslate">timeline</span>, a quel punto sta a voi avere del codice che lo analizzi e reagisca di conseguenza. Si noti inoltre che <span class="notranslate">sequences</span> può anche ascoltare i messaggi broadcast, ma questo richiede che prima si imposti il metodo dell'ascoltatore usando del codice (si veda la sezione <span class="notranslate">GML</span> su <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm">Sequence Events And Moments</a> per maggiori informazioni).</p>
  <p class="note"><strong><span class="note">NOTA</span></strong> Impostando l'<strong>image_index </strong>di un'istanza direttamente su un fotogramma, <em>non</em> si attiveranno i messaggi di broadcast che possono essere presenti su quel fotogramma dell'oggetto <span class="notranslate">sprite</span>.</p>
  <p>Per aggiungere un messaggio broadcast a <span class="notranslate">sequence</span> o <span class="notranslate">sprite</span> <span class="notranslate">timeline</span> è sufficiente cliccare sul pulsante <img>. Questo aprirà una finestra di dialogo dove potrai aggiungere il messaggio da trasmettere:</p>
  <p class="dropspot"><img alt="Broadcast Message Button Icon" class="icon" src="../../assets/Images/Icons/Icon_Broadcast.png" /></p>
  <p>Una volta aggiunto, il messaggio sarà mostrato nel sito <span class="notranslate">Dope Sheet</span> (o nella vista frame <span class="notranslate">sprite</span> ). Per modificarlo, dovete cliccare con il tasto destro del mouse <img> sull'icona del messaggio per aprire una lista di tutti i messaggi che si sovrappongono alla cornice (ci può essere un solo messaggio su una cornice, ma mettere più messaggi su cornici consecutive causerà la loro sovrapposizione visiva, rendendo più difficile selezionare quello che volete e potete avere un messaggio e un <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Sequences/Sequence_Events_Moments_Broadcast.htm">momento</a> anche sulla stessa cornice), e poi selezionarne uno da questa lista aprirà la finestra di dialogo del messaggio dove potete modificarlo o rimuoverlo.</p>
  <p>Quando viene attivato un evento Broadcast Message, ci sarà una speciale <a href="../../GameMaker_Language/GML_Reference/Data_Structures/DS_Maps/DS_Maps.htm">DS Map</a> creata e memorizzata nella variabile built-in <span class="inline">event_data</span>. Questa variabile ID è una variabile built-in di portata <em>globale </em>, ma conterrà solo i dati della mappa DS nell'evento che l'ha innescata - in questo caso l'evento Broadcast Message - e restituirà -1 in tutte le altre occasioni. Le chiavi che l'evento avrà sono le seguenti:</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3"><span data-keyref="Type_Struct_Message_Event"><a data-rhwidget="HyperlinkPopover" href="../../../The_Asset_Editors/Sequence_Properties/Broadcast_Messages.htm">Struttura dell'evento del messaggio</a></span></th>
      </tr>
      <tr>
        <th>Variabile</th>
        <th>Tipo</th>
        <th>Descrizione</th>
      </tr>
      <tr>
        <td><span class="inline">event_type</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Overview/Data_Types.htm">Stringa</a></span></td>
        <td>Questo sarà il <span class="notranslate">string</span> &quot;<span class="inline">sequence event</span>&quot; per un messaggio inviato da un <span class="notranslate">Sequence</span> e &quot;<span class="inline">sprite event</span>&quot; per un messaggio inviato da un <span class="notranslate">Sprite</span>.</td>
      </tr>
      <tr>
        <td><span class="inline">message</span></td>
        <td><span data-keyref="Type_String"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Overview/Data_Types.htm">Stringa</a></span></td>
        <td>Questo contiene il messaggio <span class="notranslate">string</span> che è stato ricevuto.</td>
      </tr>
      <tr>
        <td><span class="inline">element_id</span></td>
        <td><span data-keyref="Type_ID_Layer_Element"><a data-rhwidget="HyperlinkPopover" href="../../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_all_elements.htm">ID dell'elemento di strato</a></span></td>
        <td>Questo contiene l'ID dell'elemento del livello (sequenza/sprite/istanza) che ha sparato il messaggio. Si può quindi utilizzare questo valore ID per scoprire quale tipo di elemento ha generato il messaggio utilizzando la funzione <a href="../../GameMaker_Language/GML_Reference/Asset_Management/Rooms/General_Layer_Functions/layer_get_element_type.htm"><span class="inline">layer_get_element_type()</span></a> e usare le altre funzioni pertinenti per indirizzarlo, o eseguire un'azione come riprodurre un suono, come richiesto.</td>
      </tr>
    </tbody>
  </table>
  <p>Si noti che l'evento messaggio di trasmissione di un'istanza riceverà più <span class="notranslate">strings</span> per ciascuna delle volte in cui viene inviato un messaggio di trasmissione. Non è necessario agire su tutti, e si possono avere diverse istanze in ascolto per diversi broadcast <span class="notranslate">strings</span>. Tuttavia, si può avere un'istanza che è in ascolto per messaggi che possono essere ricevuti allo stesso tempo. Quando questo accade, l'evento verrà attivato più volte - <em>una volta per ogni stringa di messaggio</em>.</p>
  <p>Qui sotto c'è un breve esempio di come questo evento può essere controllato:</p>
  <p class="code">if event_data[? &quot;event_type&quot;] == &quot;sequence event&quot; // or you can check &quot;sprite event&quot;<br />
    {<br />
        switch (event_data[? &quot;message&quot;])<br />
        {<br />
            case &quot;hit&quot;:<br />
                audio_play_sound(snd_hit, 0, false);<br />
            break;<br />
    <br />
            case &quot;destroy&quot;:<br />
                sequence_destroy(event_data[? &quot;element_id&quot;]);<br />
            break;<br />
        }<br />
    }
  </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Indietro: <a href="../Sequences.htm">Sequenze</a></div>
        <div style="float:right">Prossimo: <a href="The_Sequence_Canvas.htm">La tela <span class="notranslate">Sequence</span> </a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Tutti i diritti riservati</span></h5>
  </div>
  <!-- KEYWORDS
Sequences - Broadcast Messages
Broadcast Messages
-->
  <!-- TAGS
sequences_broadcast_messages
-->
</body>
</html>